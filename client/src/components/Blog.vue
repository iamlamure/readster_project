<!-- eslint-disable -->
<template>
    <div class="container">
        <h1 class="title columns is-mobile is-centered">บทความ</h1>
        <hr class="style11">
        <br>
        <div class="columns is-multiline" >
            <div class="tile is-ancestor column is-half"  >
                <!-- 
                    v-for="(blog) in blogs" v-bind:key="blog.blogid" v-bind:title="blog.blog_title"
                    <div class="column tile is-mobile is-parent">
                    <div @click="gotodetail(blog.blogid)" class="tile is-child box">
                        <article class="media">
                            <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="https://jatumint.com/wp-content/uploads/2018/05/%E0%B8%A3%E0%B8%B5%E0%B8%A7%E0%B8%B4%E0%B8%A7%E0%B8%AB%E0%B8%99%E0%B8%B1%E0%B8%87%E0%B8%AA%E0%B8%B7%E0%B8%AD-%E0%B8%98%E0%B8%B8%E0%B8%A3%E0%B8%81%E0%B8%B4%E0%B8%88%E0%B8%9E%E0%B8%AD%E0%B8%94%E0%B8%B5%E0%B8%84%E0%B8%B3.jpg" alt="Image">
                            </figure>
                            </div>
                            <div class="media-content">
                            <div class="content">
                                <strong>{{blog.first_name}}</strong> <small>{{blog.blog_date}}</small>
                                <br>
                                <h5 class="title is-5">{{blog.blog_title}}</h5>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
                -->
                <div class="column tile is-mobile is-parent">
                    <div class="tile is-child box">
                        <article class="media">
                            <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="https://readery.co/media/catalog/product/cache/1/small_image/360x/17f82f742ffe127f42dca9de82fb58b1/c/o/cover-front-lof.png" alt="Image">
                            </figure>
                            </div>
                            <div class="media-content">
                            <div class="content">
                                <strong>Tawan</strong> <small>10/11/62</small>
                                <br>
                                <h5 class="title is-5">วัยเยาว์อันสิ้นสูญ</h5>
                                <p>‘วัยเยาว์ อันสิ้นสูญ’ (Lord of the Flies) คือหนึ่งในวรรณกรรมเอกของโลกสมัยใหม่ แม้เหตุการณ์จะเล่าถึงการติดเกาะของเหล่าเด็กชายชาวอังกฤษ ซึ่งเกิดขึ้นในช่วงสงครามโลกอันเป็นสถานที่และช่วงเวลาที่ห่างไกลจากปัจจุบัน ทว่าเรื่องเล่าถึงสัญชาตญาณการเอาตัวรอด</p>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            <div class="tile is-ancestor column is-half"  >
                <div class="column tile is-mobile is-parent">
                    <div class="tile is-child box">
                        <article class="media">
                            <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="https://readery.co/media/catalog/product/cache/1/small_image/360x/17f82f742ffe127f42dca9de82fb58b1/0/1/01-_.jpg" alt="Image">
                            </figure>
                            </div>
                            <div class="media-content">
                            <div class="content">
                                <strong>Tawan</strong> <small>10/11/62</small>
                                <br>
                                <h5 class="title is-5">เมื่อฟ้ารอพบจันทร์</h5>
                                <p>นวนิยายที่จะเพิ่มพลังใจให้กับคนที่มีบาดแผลจากความสัมพันธ์ต่างๆ กล้าที่จะเริ่มต้นใหม่อีกครั้ง บอกเล่าผ่านตัวละครที่เจ็บปวดจากความรักอย่าง ‘แหวนพลอย’ ที่ได้มาพบกับ ‘ปนัตถ์’ </p>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            <div class="tile is-ancestor column is-half"  >
                <div class="column tile is-mobile is-parent">
                    <div class="tile is-child box">
                        <article class="media">
                            <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="https://readery.co/media/catalog/product/cache/1/small_image/240x/17f82f742ffe127f42dca9de82fb58b1/m/a/mary_sue_2.jpg" alt="Image">
                            </figure>
                            </div>
                            <div class="media-content">
                            <div class="content">
                                <strong>Tawan</strong> <small>10/11/62</small>
                                <br>
                                <h5 class="title is-5">ปฏิบัติการสังหารแมรี่ ซู</h5>
                                <p>เจ็ดเรื่องสั้นแนวลึกลับ สืบสวน และแฟนตาซี สุดประทับใจ ผลงานของนักเขียนมากฝีมือ ‘โอตสึ อิจิ’ และนามปากกาอื่นๆ ของเขา เพื่อระลึกถึงในโอกาสครบรอบยี่สิบปีของการออกผลงานนามปากกาโอตสึ อิจิ</p>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            <div class="tile is-ancestor column is-half"  >
                <div class="column tile is-mobile is-parent">
                    <div class="tile is-child box">
                        <article class="media">
                            <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="https://readery.co/media/catalog/product/cache/1/small_image/360x/17f82f742ffe127f42dca9de82fb58b1/s/c/screen_shot_2562-09-20_at_1.55.56_am.png" alt="Image">
                            </figure>
                            </div>
                            <div class="media-content">
                            <div class="content">
                                <strong>Tawan</strong> <small>10/11/62</small>
                                <br>
                                <h5 class="title is-5">พันธุกรรมอำพราง</h5>
                                <p>ผลงานเรื่องเยี่ยมที่ติดอันดับขายดีจนต้องพิมพ์ซ้ำร่วม 30 ครั้ง การันตีด้วยยอดขายกว่า 800,000 เล่มทั่วญี่ปุ่นและถูกสร้างเป็นละครโทรทัศน์จนโด่งดังมาแล้ว</p>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            <div class="tile is-ancestor column is-half"  >
                <div class="column tile is-mobile is-parent">
                    <div class="tile is-child box">
                        <article class="media">
                            <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="https://readery.co/media/catalog/product/cache/1/small_image/360x/17f82f742ffe127f42dca9de82fb58b1/s/c/screen_shot_2562-10-11_at_10.48.58_pm.png" alt="Image">
                            </figure>
                            </div>
                            <div class="media-content">
                            <div class="content">
                                <strong>Tawan</strong> <small>10/11/62</small>
                                <br>
                                <h5 class="title is-5">คำขอสุดท้ายของผู้ตายถึงผม</h5>
                                <p>ถ้าอย่างนั้น ตกลงว่าเราจะจ้างนายเป็นยมทูตนะ"

อยู่มาวันหนึ่ง ซาคุระ ชินจิ นักเรียนมัธยมปลายก็ถูกฮานาโมริ ยูกิ เพื่อนร่วมชั้นสุดฮ็อต ชักชวนให้ทำงานพาร์ตไทม์เป็น "ยมทูต" งานของ "ยมทูต" ที่ว่าก็คือช่วยขจัดความอาลัยอาวรณ์ของ "ผู้ตาย" ที่ยังคงตกค้างอยู่บนโลกนี้โดยไม่อาจไปสู่สุคติได้ และส่งพวกเขาเหล่านั้นไปยังโลกหน้า ฟังดูแล้วช่างหลุดโลกจนซาคุระไม่อาจทำใจเชื่อได้ แต่แล้วฮานาโมริก็ยื่นข้อเสนอที่น่าสนใจว่า</p>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            <div class="tile is-ancestor column is-half"  >
                <div class="column tile is-mobile is-parent">
                    <div class="tile is-child box">
                        <article class="media">
                            <div class="media-left">
                            <figure class="image is-64x64">
                                <img src="https://readery.co/media/catalog/product/cache/1/small_image/360x/17f82f742ffe127f42dca9de82fb58b1/0/4/04-you_sadly_smile_in_the_profile_picture.jpg" alt="Image">
                            </figure>
                            </div>
                            <div class="media-content">
                            <div class="content">
                                <strong>Tawan</strong> <small>10/11/62</small>
                                <br>
                                <h5 class="title is-5">YOU SADLY SMILE IN THE PROFILE PICTURE</h5>
                                <p>เรื่องสั้นสั้นเอาแต่ใจ อ่านไวๆ ในหนึ่งนั่ง ว่าด้วยความสัมพันธ์ที่ผ่านพ้น ความสุขที่แซดเศร้า ความเยาว์ที่ไม่รู้อะไรบ้างเลย แรนดอม ฟัxอัพ และไหลไปเรื่อยเปื่อย โดย 'ธนชาติ ศิริภัทราชัย' เจ้าของผลงาน New York 1st Time และผู้กำกับประจำ Salmon House</p>
                            </div>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
            
        </div>
        <!-- 
        <table class="table is-fullwidth">
                <thead>
                  <th class="subtitle">ชื่อเรื่อง</th>
                  <th class="subtitle">วันที่</th>
                  <th class="subtitle">ผู้เขียน</th>
                </thead>
                <tbody>
                    <tr v-for="(blog) in blogs" v-bind:key="blog.blogid" v-bind:title="blog.blog_title" >
                        <td><a @click="gotodetail(blog.blogid)">{{blog.blog_title}}</a></td>
                        <td>{{blog.blog_date}}</td>
                        <td>{{blog.userblogid}}</td>
                    </tr>
                </tbody>
        </table>
        -->
    </div>
</template>
<!-- eslint-disable -->

<script>

import axios from 'axios'
import router from '../router'


export default {
    data() {
        //const token = localStorage.usertoken
        return {
            blogs:[],
            books:[],
            blogid:'',
            blog_article:'',
            blog_title:'',
            blog_img:'',
            bookid:'',
            book_id:'',
            book_name:'',
            id:'',
            userblogid:'',
            //token: token,
            first_name:'',
            last_name:'',
            blog_date:'',
            a : ''
        }
    },
    mounted() {
        this.getblog()
        //this.getuser()
        //this.getbooks()
    },
    methods: {
        // Get All Blog
         getblog () {
            axios.get('/blogview/blogview').then(
                result => {
                    console.log(result.data)
                    this.blogs = result.data
                },
                error => {
                    console.error(error)
                }
            )
        },
        // Delete Blog
        deleteblog(blogid) {
            axios.delete(`/blogs/blogs/${blogid}`
            ).then((res) => {
                this.getblog()
                console.log(res)
            }).catch((err) => {
                console.log(err)
            })
        },
        
        // Gotoreadblog
        gotodetail(blogid){
            this.$router.push({
                name:'Read',
                params:{blog:blogid}
            }).then((res) => {
                this.getblog()
            }).catch((err) => {
                console.log(err)
            })
        },

        getuser () {
                axios.get('/users/profile', {
                headers: { 'Authorization': this.token }
            }).then(res => {
                this.id = res.data.id
                this.first_name = res.data.first_name
                this.last_name = res.data.last_name
            }).catch(err => {
                console.log(err)
                router.push({ name: 'Login' })
            })
        },

        //Show Books
        getbooks () {
            axios.get('/books/books').then(
                result => {
                    console.log(result.data)
                    this.books = result.data
                },
                error => {
                    console.error(error)
                }
            )
        },
        
    }
}
</script>